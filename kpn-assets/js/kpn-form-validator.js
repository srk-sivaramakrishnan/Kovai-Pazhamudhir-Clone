+function(g){function f(a){return this.each(function(){var k=g(this),d=g.extend({},i.DEFAULTS,k.data(),"object"==typeof a&&a),b=k.data("bs.validator");(b||"destroy"!=a)&&(b||k.data("bs.validator",b=new i(this,d)),"string"==typeof a&&b[a]())})}var j=':input:not([type="submit"], button):enabled:visible',i=function(a,k){this.$element=g(a),this.options=k,k.errors=g.extend({},i.DEFAULTS.errors,k.errors);for(var d in k.custom){if(!k.errors[d]){throw new Error("Missing default error message for custom validator: "+d)}}g.extend(i.VALIDATORS,k.custom),this.$element.attr("novalidate",!0),this.toggleSubmit(),this.$element.on("input.bs.validator change.bs.validator focusout.bs.validator",g.proxy(this.validateInput,this)),this.$element.on("submit.bs.validator",g.proxy(this.onSubmit,this)),this.$element.find("[data-match]").each(function(){var e=g(this),l=e.data("match");g(l).on("input.bs.validator",function(){e.val()&&e.trigger("input.bs.validator")})})};i.DEFAULTS={delay:500,html:!1,disable:!0,custom:{},errors:{match:"Does not match",minlength:"Not long enough"},feedback:{success:"glyphicon-ok",error:"glyphicon-warning-sign"}},i.VALIDATORS={"native":function(d){var c=d[0];return c.checkValidity?c.checkValidity():!0},match:function(a){var d=a.data("match");return !a.val()||a.val()===g(d).val()},minlength:function(d){var c=d.data("minlength");return !d.val()||d.val().length>=c}},i.prototype.validateInput=function(a){var m=g(a.target),l=m.data("bs.validator.errors");if(m.is('[type="radio"]')&&(m=this.$element.find('input[name="'+m.attr("name")+'"]')),this.$element.trigger(a=g.Event("validate.bs.validator",{relatedTarget:m[0]})),!a.isDefaultPrevented()){var k=this;this.runValidators(m).done(function(b){m.data("bs.validator.errors",b),b.length?k.showErrors(m):k.clearErrors(m),l&&b.toString()===l.toString()||(a=b.length?g.Event("invalid.bs.validator",{relatedTarget:m[0],detail:b}):g.Event("valid.bs.validator",{relatedTarget:m[0],detail:l}),k.$element.trigger(a)),k.toggleSubmit(),k.$element.trigger(g.Event("validated.bs.validator",{relatedTarget:m[0]}))})}},i.prototype.runValidators=function(a){function m(b){return a.data(b+"-error")||a.data("error")||"native"==b&&a[0].validationMessage||d.errors[b]}var l=[],k=g.Deferred(),d=this.options;return a.data("bs.validator.deferred")&&a.data("bs.validator.deferred").reject(),a.data("bs.validator.deferred",k),g.each(i.VALIDATORS,g.proxy(function(b,e){if((a.data(b)||"native"==b)&&!e.call(this,a)){var c=m(b);!~l.indexOf(c)&&l.push(c)}},this)),!l.length&&a.val()&&a.data("remote")?this.defer(a,function(){var b={};b[a.attr("name")]=a.val(),g.get(a.data("remote"),b).fail(function(e,c,n){l.push(m("remote")||n)}).always(function(){k.resolve(l)})}):k.resolve(l),k.promise()},i.prototype.validate=function(){var b=this.options.delay;return this.options.delay=0,this.$element.find(j).trigger("input.bs.validator"),this.options.delay=b,this},i.prototype.showErrors=function(a){var d=this.options.html?"html":"text";this.defer(a,function(){var l=a.closest(".form-group"),k=l.find(".help-block.with-errors"),c=l.find(".form-control-feedback"),b=a.data("bs.validator.errors");b.length&&(b=g("<ul/>").addClass("list-unstyled").append(g.map(b,function(e){return g("<li/>")[d](e)})),void 0===k.data("bs.validator.originalContent")&&k.data("bs.validator.originalContent",k.html()),k.empty().append(b),l.addClass("has-error"),c.length&&c.removeClass(this.options.feedback.success)&&c.addClass(this.options.feedback.error)&&l.removeClass("has-success"))})},i.prototype.clearErrors=function(k){var e=k.closest(".form-group"),m=e.find(".help-block.with-errors"),l=e.find(".form-control-feedback");m.html(m.data("bs.validator.originalContent")),e.removeClass("has-error"),l.length&&l.removeClass(this.options.feedback.error)&&l.addClass(this.options.feedback.success)&&e.addClass("has-success")},i.prototype.hasErrors=function(){function a(){return !!(g(this).data("bs.validator.errors")||[]).length}return !!this.$element.find(j).filter(a).length},i.prototype.isIncomplete=function(){function a(){return"checkbox"===this.type?!this.checked:"radio"===this.type?!g('[name="'+this.name+'"]:checked').length:""===g.trim(this.value)}return !!this.$element.find(j).filter("[required]").filter(a).length},i.prototype.onSubmit=function(b){this.validate(),(this.isIncomplete()||this.hasErrors())&&b.preventDefault()},i.prototype.toggleSubmit=function(){if(this.options.disable){var a=g('button[type="submit"], input[type="submit"]').filter('[form="'+this.$element.attr("id")+'"]').add(this.$element.find('input[type="submit"], button[type="submit"]'));a.toggleClass("disabled",this.isIncomplete()||this.hasErrors()).css({"pointer-events":"all",cursor:"pointer"})}},i.prototype.defer=function(a,d){return d=g.proxy(d,this),this.options.delay?(window.clearTimeout(a.data("bs.validator.timeout")),void a.data("bs.validator.timeout",window.setTimeout(d,this.options.delay))):d()},i.prototype.destroy=function(){return this.$element.removeAttr("novalidate").removeData("bs.validator").off(".bs.validator"),this.$element.find(j).off(".bs.validator").removeData(["bs.validator.errors","bs.validator.deferred"]).each(function(){var a=g(this),d=a.data("bs.validator.timeout");window.clearTimeout(d)&&a.removeData("bs.validator.timeout")}),this.$element.find(".help-block.with-errors").each(function(){var a=g(this),d=a.data("bs.validator.originalContent");a.removeData("bs.validator.originalContent").html(d)}),this.$element.find('input[type="submit"], button[type="submit"]').removeClass("disabled"),this.$element.find(".has-error").removeClass("has-error"),this};var h=g.fn.validator;g.fn.validator=f,g.fn.validator.Constructor=i,g.fn.validator.noConflict=function(){return g.fn.validator=h,this},g(window).on("load",function(){g('form[data-toggle="validator"]').each(function(){var a=g(this);f.call(a,a.data())})})}(jQuery);