(function(){var an,am,al,ak,aj,ai,ah,ag,af,ae,ad,ac,ab,aa,Z,Y,W,U,S,Q,O,M,K,J,I,H,X,V,T,R,P,N,L=[].slice;W='<span class="odometer-value"></span>',aa='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+W+"</span></span>",ak='<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner">'+aa+"</span></span>",ah='<span class="odometer-formatting-mark"></span>',al="(,ddd).dd",ag=/^\(?([^)]*)\)?(?:(.)(d+))?$/,af=30,ai=2000,an=20,ae=2,aj=0.5,ad=1000/af,am=1000/an,Z="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",I=document.createElement("div").style,Y=null!=I.transition||null!=I.webkitTransition||null!=I.mozTransition||null!=I.oTransition,K=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,ac=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,S=function(d){var c;return c=document.createElement("div"),c.innerHTML=d,c.children[0]},M=function(d,c){return d.className=d.className.replace(new RegExp("(^| )"+c.split(" ").join("|")+"( |$)","gi")," ")},U=function(d,c){return M(d,c),d.className+=" "+c},H=function(e,d){var f;return null!=document.createEvent?(f=document.createEvent("HTMLEvents"),f.initEvent(d,!0,!0),e.dispatchEvent(f)):void 0},O=function(){var d,c;return null!=(d=null!=(c=window.performance)&&"function"==typeof c.now?c.now():void 0)?d:+new Date},J=function(d,c){return null==c&&(c=0),c?(d*=Math.pow(10,c),d+=0.5,d=Math.floor(d),d/=Math.pow(10,c)):Math.round(d)},X=function(b){return 0>b?Math.ceil(b):Math.floor(b)},Q=function(b){return b-J(b)},T=!1,(V=function(){var g,f,j,i,h;if(!T&&null!=window.jQuery){for(T=!0,i=["html","text"],h=[],f=0,j=i.length;j>f;f++){g=i[f],h.push(function(d){var c;return c=window.jQuery.fn[d],window.jQuery.fn[d]=function(b){var e;return null==b||null==(null!=(e=this[0])?e.odometer:void 0)?c.apply(this,arguments):this[0].odometer.update(b)}}(g))}return h}})(),setTimeout(V,0),ab=function(){function b(z){var y,x,w,v,u,t,s,r,k,j,f=this;if(this.options=z,this.el=this.options.el,null!=this.el.odometer){return this.el.odometer}this.el.odometer=this,r=b.options;for(x in r){v=r[x],null==this.options[x]&&(this.options[x]=v)}null==(u=this.options).duration&&(u.duration=ai),this.MAX_VALUES=this.options.duration/ad/ae|0,this.resetFormat(),this.value=this.cleanValue(null!=(k=this.options.value)?k:""),this.renderInside(),this.render();try{for(j=["innerHTML","innerText","textContent"],t=0,s=j.length;s>t;t++){w=j[t],null!=this.el[w]&&!function(c){return Object.defineProperty(f.el,c,{get:function(){var d;return"innerHTML"===c?f.inside.outerHTML:null!=(d=f.inside.innerText)?d:f.inside.textContent},set:function(d){return f.update(d)}})}(w)}}catch(a){y=a,this.watchForMutations()}}return b.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},b.prototype.watchForMutations=function(){var e,d=this;if(null!=ac){try{return null==this.observer&&(this.observer=new ac(function(g){var h;return h=d.el.innerText,d.renderInside(),d.render(d.value),d.update(h)})),this.watchMutations=!0,this.startWatchingMutations()}catch(f){e=f}}},b.prototype.startWatchingMutations=function(){return this.watchMutations?this.observer.observe(this.el,{childList:!0}):void 0},b.prototype.stopWatchingMutations=function(){var c;return null!=(c=this.observer)?c.disconnect():void 0},b.prototype.cleanValue=function(d){var c;return"string"==typeof d&&(d=d.replace(null!=(c=this.format.radix)?c:".","<radix>"),d=d.replace(/[.,]/g,""),d=d.replace("<radix>","."),d=parseFloat(d,10)||0),J(d,this.format.precision)},b.prototype.bindTransitionEnd=function(){var i,h,n,m,l,k,j=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,h=!1,l=Z.split(" "),k=[],n=0,m=l.length;m>n;n++){i=l[n],k.push(this.el.addEventListener(i,function(){return h?!0:(h=!0,setTimeout(function(){return j.render(),h=!1,H(j.el,"odometerdone")},0),!0)},!1))}return k}},b.prototype.resetFormat=function(){var h,c,p,o,n,m,l,k;if(h=null!=(l=this.options.format)?l:al,h||(h="d"),p=ag.exec(h),!p){throw new Error("Odometer: Unparsable digit format")}return k=p.slice(1,4),m=k[0],n=k[1],c=k[2],o=(null!=c?c.length:void 0)||0,this.format={repeating:m,radix:n,precision:o}},b.prototype.render=function(j){var i,p,o,n,m,l,k;for(null==j&&(j=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",m=this.options.theme,i=this.el.className.split(" "),n=[],l=0,k=i.length;k>l;l++){p=i[l],p.length&&((o=/^odometer-theme-(.+)$/.exec(p))?m=o[1]:/^odometer(-|$)/.test(p)||n.push(p))}return n.push("odometer"),Y||n.push("odometer-no-transitions"),m?n.push("odometer-theme-"+m):n.push("odometer-auto-theme"),this.el.className=n.join(" "),this.ribbons={},this.formatDigits(j),this.startWatchingMutations()},b.prototype.formatDigits=function(v){var u,t,s,r,q,p,o,n,m,l;if(this.digits=[],this.options.formatFunction){for(s=this.options.formatFunction(v),m=s.split("").reverse(),q=0,o=m.length;o>q;q++){t=m[q],t.match(/0-9/)?(u=this.renderDigit(),u.querySelector(".odometer-value").innerHTML=t,this.digits.push(u),this.insertDigit(u)):this.addSpacer(t)}}else{for(r=!this.format.precision||!Q(v)||!1,l=v.toString().split("").reverse(),p=0,n=l.length;n>p;p++){u=l[p],"."===u&&(r=!0),this.addDigit(u,r)}}},b.prototype.update=function(e){var d,f=this;return e=this.cleanValue(e),(d=e-this.value)?(M(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),d>0?U(this.el,"odometer-animating-up"):U(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(e),this.startWatchingMutations(),setTimeout(function(){return f.el.offsetHeight,U(f.el,"odometer-animating")},0),this.value=e):void 0},b.prototype.renderDigit=function(){return S(ak)},b.prototype.insertDigit=function(d,c){return null!=c?this.inside.insertBefore(d,c):this.inside.children.length?this.inside.insertBefore(d,this.inside.children[0]):this.inside.appendChild(d)},b.prototype.addSpacer=function(f,e,h){var g;return g=S(ah),g.innerHTML=f,h&&U(g,h),this.insertDigit(g,e)},b.prototype.addDigit=function(h,g){var l,k,j,i;if(null==g&&(g=!0),"-"===h){return this.addSpacer(h,null,"odometer-negation-mark")}if("."===h){return this.addSpacer(null!=(i=this.format.radix)?i:".",null,"odometer-radix-mark")}if(g){for(j=!1;;){if(!this.format.repeating.length){if(j){throw new Error("Bad odometer format without digits")}this.resetFormat(),j=!0}if(l=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),"d"===l){break}this.addSpacer(l)}}return k=this.renderDigit(),k.querySelector(".odometer-value").innerHTML=h,this.digits.push(k),this.insertDigit(k)},b.prototype.animate=function(c){return Y&&"count"!==this.options.animation?this.animateSlide(c):this.animateCount(c)},b.prototype.animateCount=function(i){var o,n,m,l,k,j=this;if(n=+i-this.value){return l=m=O(),o=this.value,(k=function(){var d,c,a;return O()-l>j.options.duration?(j.value=i,j.render(),void H(j.el,"odometerdone")):(d=O()-m,d>am&&(m=O(),a=d/j.options.duration,c=n*a,o+=c,j.render(Math.round(o))),null!=K?K(k):setTimeout(k,am))})()}},b.prototype.getDigitCount=function(){var h,g,l,k,j,i;for(k=1<=arguments.length?L.call(arguments,0):[],h=j=0,i=k.length;i>j;h=++j){l=k[h],k[h]=Math.abs(l)}return g=Math.max.apply(Math,k),Math.ceil(Math.log(g+1)/Math.log(10))},b.prototype.getFractionalDigitCount=function(){var i,h,n,m,l,k,j;for(l=1<=arguments.length?L.call(arguments,0):[],h=/^\-?\d*\.(\d*?)0*$/,i=k=0,j=l.length;j>k;i=++k){m=l[i],l[i]=m.toString(),n=h.exec(l[i]),null==n?l[i]=0:l[i]=n[1].length}return Math.max.apply(Math,l)},b.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},b.prototype.animateSlide=function(aL){var aK,aJ,aI,aH,aG,aF,aE,aD,aC,aB,aA,az,ay,ax,aw,at,aq,ao,G,F,A,r,e,av,au,ar,ap;if(at=this.value,aD=this.getFractionalDigitCount(at,aL),aD&&(aL*=Math.pow(10,aD),at*=Math.pow(10,aD)),aI=aL-at){for(this.bindTransitionEnd(),aH=this.getDigitCount(at,aL),aG=[],aK=0,aA=G=0;aH>=0?aH>G:G>aH;aA=aH>=0?++G:--G){if(aq=X(at/Math.pow(10,aH-aA-1)),aE=X(aL/Math.pow(10,aH-aA-1)),aF=aE-aq,Math.abs(aF)>this.MAX_VALUES){for(aB=[],az=aF/(this.MAX_VALUES+this.MAX_VALUES*aK*aj),aJ=aq;aF>0&&aE>aJ||0>aF&&aJ>aE;){aB.push(Math.round(aJ)),aJ+=az}aB[aB.length-1]!==aE&&aB.push(aE),aK++}else{aB=function(){ap=[];for(var c=aq;aE>=aq?aE>=c:c>=aE;aE>=aq?c++:c--){ap.push(c)}return ap}.apply(this)}for(aA=F=0,r=aB.length;r>F;aA=++F){aC=aB[aA],aB[aA]=Math.abs(aC%10)}aG.push(aB)}for(this.resetDigits(),ar=aG.reverse(),aA=A=0,e=ar.length;e>A;aA=++A){for(aB=ar[aA],this.digits[aA]||this.addDigit(" ",aA>=aD),null==(ao=this.ribbons)[aA]&&(ao[aA]=this.digits[aA].querySelector(".odometer-ribbon-inner")),this.ribbons[aA].innerHTML="",0>aI&&(aB=aB.reverse()),ay=au=0,av=aB.length;av>au;ay=++au){aC=aB[ay],aw=document.createElement("div"),aw.className="odometer-value",aw.innerHTML=aC,this.ribbons[aA].appendChild(aw),ay===aB.length-1&&U(aw,"odometer-last-value"),0===ay&&U(aw,"odometer-first-value")}}return 0>aq&&this.addDigit("-"),ax=this.inside.querySelector(".odometer-radix-mark"),null!=ax&&ax.parent.removeChild(ax),aD?this.addSpacer(this.format.radix,this.digits[aD-1],"odometer-radix-mark"):void 0}},b}(),ab.options=null!=(P=window.odometerOptions)?P:{},setTimeout(function(){var g,f,j,i,h;if(window.odometerOptions){i=window.odometerOptions,h=[];for(g in i){f=i[g],h.push(null!=(j=ab.options)[g]?(j=ab.options)[g]:j[g]=f)}return h}},0),ab.init=function(){var h,g,l,k,j,i;if(null!=document.querySelectorAll){for(g=document.querySelectorAll(ab.options.selector||".odometer"),i=[],l=0,k=g.length;k>l;l++){h=g[l],i.push(h.odometer=new ab({el:h,value:null!=(j=h.innerText)?j:h.textContent}))}return i}},null!=(null!=(N=document.documentElement)?N.doScroll:void 0)&&null!=document.createEventObject?(R=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&ab.options.auto!==!1&&ab.init(),null!=R?R.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){return ab.options.auto!==!1?ab.init():void 0},!1),"function"==typeof define&&define.amd?define([],function(){return ab}):"undefined"!=typeof exports&&null!==exports?module.exports=ab:window.Odometer=ab}).call(this);